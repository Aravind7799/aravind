<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surprise Message üéÅ</title>

<style>
body{
  margin:0;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background:#fff;
  width:90%;
  max-width:420px;
  border-radius:20px;
  padding:25px;
  box-shadow:0 15px 40px rgba(0,0,0,0.2);
  text-align:center;
}
h1{color:#ff4d6d}
input,textarea{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid #ddd;
}
textarea{height:90px;resize:none}
button{
  background:#ff4d6d;
  color:white;
  border:none;
  padding:12px 20px;
  border-radius:30px;
  cursor:pointer;
  margin-top:10px;
}
.card{
  display:none;
  background:#fff0f5;
  border-radius:15px;
  padding:20px;
  margin-top:20px;
  animation:fade 1s ease;
}
@keyframes fade{
  from{opacity:0;transform:scale(0.9)}
  to{opacity:1;transform:scale(1)}
}
.link-box{
  margin-top:10px;
  font-size:12px;
  word-break:break-all;
}
</style>
</head>

<body>
<div class="container">
  <h1>üéÅ Sorry message</h1>

  <div id="formBox">
    <input id="from" placeholder="Aravind">
    <input id="to" placeholder="Monica">
    <textarea id="msg" placeholder="I Understand tjat sorry alone isn't enough. so, I promise patience, chamge and consistency because you deserve the best version pf me :)"></textarea>
    <button onclick="createSorrynote()">Create sorry üíù</button>
  </div>

  <div class="card" id="card">
    <h2 id="toText"></h2>
    <p id="msgText"></p>
    <p><strong>‚Äî <span id="fromText"></span></strong></p>
    <button onclick="copyLink()">Copy Share Link üîó</button>
    <div class="link-box" id="linkBox"></div>
  </div>
</div>

<script>
function createSurprise(){
  const from = encodeURIComponent(fromInput.value);
  const to = encodeURIComponent(toInput.value);
  const msg = encodeURIComponent(msgInput.value);

  if(!from || !to || !msg){
    alert("Please fill all fields ‚ù§Ô∏è");
    return;
  }

  const link = `${location.origin}${location.pathname}?from=${from}&to=${to}&msg=${msg}`;
  showCard(decodeURIComponent(from),decodeURIComponent(to),decodeURIComponent(msg),link);
}

function showCard(from,to,msg,link){
  formBox.style.display="none";
  card.style.display="block";
  toText.innerText = "Dear " + to;
  msgText.innerText = msg;
  fromText.innerText = from;
  linkBox.innerText = link;
}

function copyLink(){
  navigator.clipboard.writeText(linkBox.innerText);
  alert("Share link copied üéâ");
}

// Auto-load from link
const params = new URLSearchParams(window.location.search);
if(params.has("msg")){
  showCard(
    decodeURIComponent(params.get("from")),
    decodeURIComponent(params.get("to")),
    decodeURIComponent(params.get("msg")),
    window.location.href
  );
}
</script>
</body>
</html>